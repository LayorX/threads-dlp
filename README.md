<div align="center">
<img src="./images/banner.jpg" alt="Project Banner" style="border-radius: 10px; margin-top: 10px; margin-bottom: 10px;width: 500px; height: 250px;">

# threads-dlp

**ä¸€å€‹å°ˆç‚º Threads.net è¨­è¨ˆçš„å½±ç‰‡ä¸‹è¼‰èˆ‡è‡ªå‹•åŒ–ç™¼å¸ƒå·¥å…·ã€‚**

[![PyPI Version](https://img.shields.io/pypi/v/threads-dlp-layorx.svg?style=for-the-badge&logo=pypi)](https://pypi.org/project/threads-dlp-layorx/)
[![Python Version](https://img.shields.io/pypi/pyversions/threads-dlp-layorx.svg?style=for-the-badge&logo=python)](https://pypi.org/project/threads-dlp-layorx/)
[![License](https://img.shields.io/pypi/l/threads-dlp-layorx.svg?style=for-the-badge)](https://github.com/LayorX/threads-dlp/blob/main/LICENSE)
[![Live Demo](https://img.shields.io/badge/ğŸ“Š-Live_Dashboard-blue?style=for-the-badge&logo=datasette)](https://101.zeabur.app/)

[English Version](./README.en.md)

</div>

---

`threads-dlp` æ˜¯ä¸€å€‹å¼·å¤§çš„å‘½ä»¤åˆ—å·¥å…·ï¼Œå®ƒæ•´åˆäº†çˆ¬å–ã€ä¸‹è¼‰ã€è³‡æ–™åº«ç®¡ç†ã€AI å…ƒæ•¸æ“šç”Ÿæˆã€è‡ªå‹•åŒ– YouTube ä¸Šå‚³ä»¥åŠé›²ç«¯éƒ¨ç½²ç­‰å®Œæ•´åŠŸèƒ½ã€‚

å®ƒä¸ä¾è³´å®˜æ–¹ API æˆ–è„†å¼±çš„ HTML è§£æï¼Œè€Œæ˜¯é€é **Cookie èªè­‰** ç™»å…¥ï¼Œä¸¦ **æ™ºæ…§åœ°æ””æˆªç¶²è·¯æµé‡** ä¾†ç²¾æº–ç²å–å½±ç‰‡ã€‚é€™å€‹æ–¹æ³•ç¢ºä¿äº†åœ¨é«˜å‹•æ…‹ã€éœ€è¦ç™»å…¥çš„ç¶²ç«™ç’°å¢ƒä¸‹ï¼Œä¾ç„¶èƒ½ç©©å®šã€é«˜æ•ˆåœ°é‹ä½œã€‚

æ•´å€‹å°ˆæ¡ˆå·²é‡å° **Zeabur** å¹³å°é€²è¡Œäº†å®Œæ•´çš„å®¹å™¨åŒ–èˆ‡è‡ªå‹•åŒ–éƒ¨ç½²è¨­å®šã€‚

> **ç·šä¸Šå„€è¡¨æ¿ (Live Dashboard)**
>
> **é»æ“Šä¸Šæ–¹è—è‰²å¾½ç« ï¼ŒæŸ¥çœ‹æ­¤å°ˆæ¡ˆè‡ªå‹•æŠ“å–ä¸¦åˆ†æçš„ç†±é–€å½±ç‰‡è³‡æ–™åº«ã€‚**
> > **å¸³è™Ÿ:** `admin` / **å¯†ç¢¼:** `password!`

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **å®‰å…¨çš„ Cookie èªè­‰**ï¼šç„¡éœ€è¼¸å…¥å¸³è™Ÿå¯†ç¢¼ï¼Œé€éç€è¦½å™¨ Cookie å®‰å…¨ç™»å…¥ï¼Œä¿è­·æ‚¨çš„å¸³è™Ÿéš±ç§ã€‚
- **æ™ºæ…§å‹ç¶²è·¯å—…æ¢**ï¼šä¸åŒæ–¼å‚³çµ±çš„ HTML çˆ¬èŸ²ï¼Œæœ¬å·¥å…·ç›´æ¥åˆ†æç¶²è·¯æµé‡ï¼Œç²¾æº–æ•ç²å½±ç‰‡è³‡æºï¼ŒæˆåŠŸç‡æ›´é«˜ã€‚
- **å¤šæ¨¡å¼çˆ¬å–**ï¼šæ”¯æ´é‡å°ç‰¹å®šç”¨æˆ¶ã€é—œéµå­—æœå°‹çµæœæˆ–å€‹äººé¦–é æ¨è–¦é€²è¡Œçˆ¬å–ã€‚
- **è‡ªå‹•åŒ–ä¸Šå‚³**ï¼šæ•´åˆ `youtubeuploader`ï¼Œå¯å°‡ä¸‹è¼‰çš„å½±ç‰‡è‡ªå‹•ä¸Šå‚³è‡³ YouTubeã€‚
- **AI æ™ºæ…§æ¨™ç±¤**ï¼šä½¿ç”¨ Google Gemini API è‡ªå‹•ç‚ºå½±ç‰‡ç”Ÿæˆæ¨™é¡Œã€æè¿°èˆ‡æ¨™ç±¤ã€‚
- **æ’ç¨‹ç™¼å¸ƒ**ï¼šæ”¯æ´ç«‹å³ç™¼å¸ƒã€é ç´„ç™¼å¸ƒä»¥åŠé–“éš”ç™¼å¸ƒç­‰å¤šç¨® YouTube ç™¼å¸ƒç­–ç•¥ã€‚
- **è³‡æ–™åº«ç®¡ç†**ï¼šä½¿ç”¨ SQLite å„²å­˜å½±ç‰‡å…ƒæ•¸æ“šï¼Œé¿å…é‡è¤‡ä¸‹è¼‰ã€‚
- **ç¶²é å„€è¡¨æ¿**ï¼šæ•´åˆ `Datasette`ï¼Œæä¾›ä¸€å€‹ç¶²é ä»‹é¢ä¾†ç€è¦½èˆ‡æŸ¥è©¢å„²å­˜åœ¨ SQLite ä¸­çš„è³‡æ–™ã€‚
- **é›²ç«¯åŸç”Ÿ**ï¼šæä¾›å®Œæ•´çš„ `Dockerfile` èˆ‡ `Procfile`ï¼Œå¯ä¸€éµéƒ¨ç½²è‡³ [Zeabur](https://zeabur.com/) ç­‰æ”¯æ´å®¹å™¨çš„é›²ç«¯å¹³å°ã€‚
- **ç£ç¢Ÿç©ºé–“ç®¡ç†**ï¼šè‡ªå‹•ç›£æ§ä¸¦æ¸…ç†å·²ä¸Šå‚³çš„å½±ç‰‡æª”æ¡ˆï¼Œé˜²æ­¢ç£ç¢Ÿç©ºé–“è€—ç›¡ã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

**å…ˆæ±ºæ¢ä»¶:**
- [Python 3.10+](https://www.python.org/downloads/)
- [Google Chrome](https://www.google.com/chrome/)
- (æ¨è–¦) [uv](https://github.com/astral-sh/uv) - ä¸€å€‹æ¥µé€Ÿçš„ Python å¥—ä»¶å®‰è£å™¨ã€‚

### 1. å®‰è£å·¥å…·

å»ºè­°ä½¿ç”¨ `uv` æˆ– `pip` ç›´æ¥å¾ PyPI å®‰è£ï¼Œé€™æ˜¯æœ€ç°¡å–®çš„æ–¹å¼ã€‚

```bash
# ä½¿ç”¨ uv (æ¨è–¦)
uv pip install threads-dlp-layorx

# æˆ–è€…ä½¿ç”¨ pip
pip install threads-dlp-layorx
```

### 2. å»ºç«‹ `.env` è¨­å®šæª”

åœ¨æ‚¨è¦åŸ·è¡Œæ­¤å·¥å…·çš„è³‡æ–™å¤¾ä¸­ï¼Œå»ºç«‹ä¸€å€‹åç‚º `.env` çš„æª”æ¡ˆï¼Œä¸¦å¡«å…¥ä»¥ä¸‹å…§å®¹ï¼š

```env
# å¿…å¡«ï¼šThreads çš„ sessionid Cookie
# å¦‚ä½•ç²å–ï¼šç™»å…¥ Threads ç¶²ç«™ï¼Œæ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…· (F12)ï¼Œåœ¨ Application -> Cookies ä¸­æ‰¾åˆ° sessionid çš„å€¼ã€‚
THREADS_SESSION_COOKIE="åœ¨é€™è£¡å¡«å…¥ä½ çš„ sessionid"

# --- ä»¥ä¸‹ç‚ºè‡ªå‹•ä¸Šå‚³åŠŸèƒ½æ‰€éœ€è®Šæ•¸ (å¯é¸) ---

# å¿…å¡«ï¼šGoogle Gemini API é‡‘é‘° (ç”¨æ–¼ç”Ÿæˆå½±ç‰‡æ¨™é¡Œå’Œæè¿°)
# å¦‚ä½•ç²å–ï¼šå‰å¾€ Google AI Studio (https://aistudio.google.com/) å–å¾—ã€‚
GEMINI_API_KEY="åœ¨é€™è£¡å¡«å…¥ä½ çš„ Gemini API é‡‘é‘°"
```
> **æç¤º:** å®Œæ•´çš„ YouTube API è®Šæ•¸ (`YT_CLIENT_SECRETS`, `YT_REQUEST`) ä¸»è¦ç‚ºé›²ç«¯éƒ¨ç½²è¨­è¨ˆã€‚åœ¨æœ¬åœ°ç«¯ï¼Œæ‚¨åªéœ€å…ˆä¾ç…§å¾ŒçºŒæ•™å­¸ç”Ÿæˆ `client_secrets.json` å’Œ `request.token` æª”æ¡ˆä¸¦æ”¾ç½®æ–¼åŒç›®éŒ„ä¸‹å³å¯ã€‚

### 3. é–‹å§‹ä½¿ç”¨ï¼

ç¾åœ¨ï¼Œæ‚¨å¯ä»¥åŸ·è¡Œ `threads-dlp` å‘½ä»¤äº†ã€‚

```bash
# ä¸‹è¼‰æŒ‡å®šç”¨æˆ¶çš„å½±ç‰‡ (ä¾‹å¦‚ zuck)
threads-dlp -t zuck

# ä¸‹è¼‰å¾Œè‡ªå‹•ä¸Šå‚³åˆ° YouTube
# (é¦–æ¬¡åŸ·è¡Œæœƒå¼•å°æ‚¨å®Œæˆ YouTube API æˆæ¬Š)
threads-dlp -t zuck --upload
```

---
## ğŸ³ æœ¬åœ° Docker éƒ¨ç½² (é€²éš)

å¦‚æœæ‚¨åå¥½ä½¿ç”¨ Docker ä¾†ç²å¾—èˆ‡é›²ç«¯ä¸€è‡´çš„ç’°å¢ƒï¼Œå¯ä»¥ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿåœ¨æœ¬åœ°é‹è¡Œã€‚

**å…ˆæ±ºæ¢ä»¶:**
- å·²å®‰è£ [Docker Desktop](https://www.docker.com/products/docker-desktop/)

### 1. å…‹éš†å°ˆæ¡ˆä¸¦æº–å‚™ç’°å¢ƒ

æ‚¨éœ€è¦å…ˆå°‡å°ˆæ¡ˆå…‹éš†åˆ°æœ¬åœ°ï¼Œå› ç‚º Docker éœ€è¦è®€å– `Dockerfile` å’Œæ‚¨çš„è¨­å®šæª”ã€‚

```bash
git clone https://github.com/LayorX/threads-dlp.git
cd threads-dlp
```

### 2. å»ºç«‹ `.env` è¨­å®šæª”

èˆ‡å¿«é€Ÿé–‹å§‹çš„æ­¥é©Ÿç›¸åŒï¼Œåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ä¸€å€‹ `.env` æª”æ¡ˆï¼Œä¸¦è‡³å°‘å¡«å…¥ `THREADS_SESSION_COOKIE`ã€‚Docker æœƒå°‡é€™å€‹æª”æ¡ˆè£¡çš„è®Šæ•¸å…¨éƒ¨è¼‰å…¥åˆ°å®¹å™¨ä¸­ã€‚

```env
THREADS_SESSION_COOKIE="åœ¨é€™è£¡å¡«å…¥ä½ çš„ sessionid"
GEMINI_API_KEY="åœ¨é€™è£¡å¡«å…¥ä½ çš„ Gemini API é‡‘é‘°"
# å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥å°‡ YT_CLIENT_SECRETS å’Œ YT_REQUEST å¡«å…¥
```

### 3. å»ºç½® Docker æ˜ åƒ

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†å»ºç½® Docker æ˜ åƒã€‚

```bash
docker build -t threads-dlp .
```

### 4. åŸ·è¡Œ Docker å®¹å™¨

æ­¤æŒ‡ä»¤æœƒå•Ÿå‹•ä¸€å€‹èƒŒæ™¯å®¹å™¨ï¼Œä¸¦å°‡æœ¬åœ°çš„ `db` å’Œ `downloads` è³‡æ–™å¤¾æ›è¼‰é€²å»ï¼Œä»¥ç¢ºä¿è³‡æ–™æ°¸ä¹…ä¿å­˜ã€‚

```bash
# ç¢ºä¿æœ¬åœ°å­˜åœ¨ db å’Œ downloads è³‡æ–™å¤¾
mkdir -p db downloads

docker run -d \
  --name threads-dlp-container \
  --env-file ./.env \
  -v "$(pwd)/db:/home/appuser/db" \
  -v "$(pwd)/downloads:/home/appuser/downloads" \
  -p 8081:8080 \
  threads-dlp
```
> **Windows ç”¨æˆ¶æ³¨æ„:** åœ¨ CMD ä¸­ï¼Œè«‹å°‡ `$(pwd)` æ›¿æ›ç‚º `%cd%`ã€‚

### 5. é©—è­‰èˆ‡ç®¡ç†

- **æŸ¥çœ‹æ—¥èªŒ**:
  ```bash
  docker logs -f threads-dlp-container
  ```
- **è¨ªå•å„€è¡¨æ¿**:
  æ‰“é–‹ç€è¦½å™¨ï¼Œè¨ªå• `http://localhost:8081`ã€‚

- **åœæ­¢ä¸¦ç§»é™¤å®¹å™¨**:
  ```bash
  docker stop threads-dlp-container
  docker rm threads-dlp-container
  ```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### `threads-dlp` (ä¸»ç¨‹å¼/ä¸‹è¼‰å™¨)

| çŸ­æ ¼å¼ | é•·æ ¼å¼ | åŠŸèƒ½èªªæ˜ | é è¨­å€¼ |
| :--- | :--- | :--- | :--- |
| `-t` | `--target` | æŒ‡å®šè¦çˆ¬å–çš„ Threads ç”¨æˆ¶åç¨±ã€‚ | `None` (çˆ¬å–é¦–é ) |
| `-s` | `--search` | æ ¹æ“šé—œéµå­—é€²è¡Œæœå°‹ä¸¦çˆ¬å–çµæœã€‚ | `None` |
| `-r` | `--scroll` | æ¨¡æ“¬é é¢å‘ä¸‹æ»¾å‹•çš„æ¬¡æ•¸ï¼Œæ•¸å­—è¶Šå¤§çˆ¬å–è¶Šæ·±ã€‚ | `3` |
| `-o` | `--output` | æŒ‡å®šå„²å­˜ä¸‹è¼‰å½±ç‰‡çš„è³‡æ–™å¤¾è·¯å¾‘ã€‚ | `downloads` |
| `-l` | `--language` | è¨­å®šæ—¥èªŒè¼¸å‡ºçš„èªè¨€ã€‚ | `zh-TW` |
| `-u` | `--upload` | ä¸‹è¼‰å®Œæˆå¾Œï¼Œè‡ªå‹•åŸ·è¡Œä¸Šå‚³ä»»å‹™ã€‚ | `False` |
| `-du`| `--deleteupload` | **(éœ€èˆ‡ `-u` ä¸¦ç”¨)** è¨­å®šæ¸…ç†é–¾å€¼ (GB)ã€‚ç•¶ `downloads` è³‡æ–™å¤¾å¤§å°è¶…éæ­¤å€¼ï¼Œå°‡è‡ªå‹•åˆªé™¤**å·²ä¸Šå‚³**çš„å½±ç‰‡ã€‚ | `0.8` |
| `-n` | `--num_videos` | **(éœ€èˆ‡ `-u` ä¸¦ç”¨)** æŒ‡å®šä¸Šå‚³å½±ç‰‡çš„æ•¸é‡ä¸Šé™ã€‚ | ç„¡é™åˆ¶ |
| `-d` | `--debug` | å•Ÿç”¨è©³ç´°æ—¥èªŒè¼¸å‡ºæ¨¡å¼ï¼Œæ–¹ä¾¿åµéŒ¯ã€‚ | `False` |

#### ä½¿ç”¨ç¯„ä¾‹

```bash
# ä¸‹è¼‰æŒ‡å®šç”¨æˆ¶çš„å½±ç‰‡ï¼Œä¸¦æŒ‡å®šå„²å­˜ä½ç½®èˆ‡çˆ¬å–æ·±åº¦
threads-dlp -t zuck -r 10 -o zuck_videos

# æ ¹æ“šé—œéµå­—æœå°‹ä¸¦ä¸‹è¼‰
threads-dlp -s "funny cats"

# ä¸‹è¼‰é¦–é æ¨è–¦çš„å½±ç‰‡ (ä¸å¸¶ -t æˆ– -s åƒæ•¸)
threads-dlp

# ä¸‹è¼‰å¾Œè‡ªå‹•è§¸ç™¼ä¸Šå‚³ï¼Œä¸¦è¨­å®šç£ç¢Ÿæ¸…ç†é–¾å€¼ç‚º 0.5 GB
threads-dlp -t zuck -u -du 0.5
```

### `uploader` (ç¨ç«‹ä¸Šå‚³å™¨)

æ­¤å‘½ä»¤è² è²¬æª¢æŸ¥è³‡æ–™åº«ä¸­å°šæœªä¸Šå‚³çš„å½±ç‰‡ï¼Œä¸¦å°‡å®ƒå€‘ç™¼å¸ƒåˆ° YouTubeã€‚

| çŸ­æ ¼å¼ | é•·æ ¼å¼ | åŠŸèƒ½èªªæ˜ | é è¨­å€¼ |
| :--- | :--- | :--- | :--- |
| `-du`| `--deleteupload` | è¨­å®šæ¸…ç†é–¾å€¼ (GB)ã€‚ | `0.8` |
| `-n` | `--num_videos` | æŒ‡å®šæœ¬æ¬¡ä¸Šå‚³å½±ç‰‡çš„æ•¸é‡ä¸Šé™ã€‚ | ç„¡é™åˆ¶ |

#### ä½¿ç”¨ç¯„ä¾‹
```bash
# ç¨ç«‹åŸ·è¡Œä¸Šå‚³ä»»å‹™
threads-dlp uploader

# ä¸Šå‚³æ™‚è‡ªè¨‚æ¸…ç†é–¾å€¼ç‚º 1.5 GB
threads-dlp uploader -du 1.5
```

### `view_db` (è³‡æ–™åº«æŸ¥çœ‹å™¨)

ä¸€å€‹åœ¨å‘½ä»¤åˆ—ä¸­å¿«é€ŸæŸ¥çœ‹è³‡æ–™åº«å…§å®¹çš„å·¥å…·ã€‚

```bash
threads-dlp view_db
```

## ğŸ”‘ YouTube API è¨­å®š (è‡ªå‹•ä¸Šå‚³åŠŸèƒ½)

> **é‡è¦æé†’ï¼š**
> å¦‚æœæ‚¨çš„ Google Cloud å°ˆæ¡ˆçš„ OAuth åŒæ„ç•«é¢è™•æ–¼ã€Œæ¸¬è©¦ã€ç‹€æ…‹ï¼Œå‰‡ç”Ÿæˆçš„ `request.token` åªæœ‰ **7 å¤©** çš„æœ‰æ•ˆæœŸã€‚è‹¥è¦ç²å¾—é•·æœŸæœ‰æ•ˆçš„ tokenï¼Œè«‹å‹™å¿…åœ¨ Google Cloud Console ä¸­å°‡æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ã€Œ**ç™¼å¸ƒ**ã€ç‚ºæ­£å¼ç‰ˆã€‚ç™¼å¸ƒå¾Œï¼Œæ‚¨éœ€è¦é‡æ–°ç”Ÿæˆä¸€æ¬¡ `request.token`ã€‚

è‹¥è¦ä½¿ç”¨è‡ªå‹•ä¸Šå‚³è‡³ YouTube çš„åŠŸèƒ½ (`--upload`)ï¼Œæ‚¨å¿…é ˆå…ˆå®Œæˆ Google API çš„æˆæ¬Šè¨­å®šã€‚æ­¤éç¨‹éµå¾ª `youtubeuploader` çš„å®˜æ–¹æŒ‡å—ï¼Œåˆ†ç‚ºå…©å¤§æ­¥ï¼šç²å– `client_secrets.json` å’Œç”Ÿæˆ `request.token`ã€‚

### æ­¥é©Ÿ 1ï¼šç²å– `client_secrets.json`

æ­¤æª”æ¡ˆç›¸ç•¶æ–¼æ‚¨çš„æ‡‰ç”¨ç¨‹å¼çš„ã€Œé‘°åŒ™ã€ï¼Œè®“ Google çŸ¥é“æ˜¯æ‚¨çš„ç¨‹å¼åœ¨è«‹æ±‚ä¸Šå‚³ã€‚

1.  **å‰å¾€ Google Cloud Console**:
    *   ç™»å…¥æ‚¨çš„ Google å¸³è™Ÿï¼Œç„¶å¾Œé€²å…¥ [Google Cloud Console](https://console.cloud.google.com/)ã€‚

2.  **å»ºç«‹æ–°å°ˆæ¡ˆ**:
    *   åœ¨é é¢é ‚éƒ¨ï¼Œé»æ“Šå°ˆæ¡ˆé¸å–®ï¼Œç„¶å¾Œé¸æ“‡ã€Œæ–°å¢å°ˆæ¡ˆã€ã€‚
    *   ç‚ºå°ˆæ¡ˆå‘½åï¼ˆä¾‹å¦‚ `Threads Uploader`ï¼‰ï¼Œç„¶å¾Œé»æ“Šã€Œå»ºç«‹ã€ã€‚

3.  **å•Ÿç”¨ YouTube Data API v3**:
    *   åœ¨å·¦å´å°è¦½åˆ—ä¸­ï¼Œæ‰¾åˆ°ã€ŒAPI å’Œæœå‹™ã€ > ã€Œå·²å•Ÿç”¨çš„ API å’Œæœå‹™ã€ã€‚
    *   é»æ“Šé ‚éƒ¨çš„ã€Œ+ å•Ÿç”¨ API å’Œæœå‹™ã€ã€‚
    *   æœå°‹ã€ŒYouTube Data API v3ã€ä¸¦é»æ“Šé€²å…¥ï¼Œç„¶å¾Œé»æ“Šã€Œå•Ÿç”¨ã€ã€‚

4.  **è¨­å®š OAuth åŒæ„ç•«é¢**:
    *   åœ¨å·¦å´å°è¦½åˆ—ä¸­ï¼Œé»æ“Šã€ŒOAuth åŒæ„ç•«é¢ã€ã€‚
    *   é¸æ“‡ã€Œå¤–éƒ¨ã€ï¼Œç„¶å¾Œé»æ“Šã€Œå»ºç«‹ã€ã€‚
    *   å¡«å¯«æ‡‰ç”¨ç¨‹å¼åç¨±ï¼ˆä¾‹å¦‚ `My Uploader`ï¼‰ï¼Œä¸¦é¸æ“‡æ‚¨çš„é›»å­éƒµä»¶ã€‚å…¶ä»–æ¬„ä½æš«æ™‚å¯ä»¥ç•™ç©ºã€‚
    *   åœ¨ã€Œæ¸¬è©¦ä½¿ç”¨è€…ã€æ­¥é©Ÿä¸­ï¼Œé»æ“Šã€Œ+ ADD USERSã€ï¼Œç„¶å¾Œ**è¼¸å…¥æ‚¨è¦ç”¨ä¾†ä¸Šå‚³å½±ç‰‡çš„é‚£å€‹ Google å¸³è™Ÿçš„ Email**ã€‚é€™æ˜¯éå¸¸é‡è¦çš„ä¸€æ­¥ï¼Œå¦å‰‡å¾ŒçºŒæˆæ¬Šæœƒå¤±æ•—ã€‚
    *   å„²å­˜ä¸¦ç¹¼çºŒï¼Œç›´åˆ°å®Œæˆè¨­å®šã€‚

5.  **å»ºç«‹æ†‘è­‰ (OAuth ç”¨æˆ¶ç«¯ ID)**:
    *   åœ¨å·¦å´å°è¦½åˆ—ä¸­ï¼Œé»æ“Šã€Œæ†‘è­‰ã€ã€‚
    *   é»æ“Šé ‚éƒ¨çš„ã€Œ+ å»ºç«‹æ†‘è­‰ã€ï¼Œç„¶å¾Œé¸æ“‡ã€ŒOAuth ç”¨æˆ¶ç«¯ IDã€ã€‚
    *   åœ¨ã€Œæ‡‰ç”¨ç¨‹å¼é¡å‹ã€ä¸­ï¼Œé¸æ“‡ã€Œ**Web æ‡‰ç”¨ç¨‹å¼**ã€(Web application)ã€‚
    *   ç‚ºå…¶å‘½åï¼ˆä¾‹å¦‚ `youtubeuploader-creds`ï¼‰ã€‚
    *   åœ¨ã€Œå·²æˆæ¬Šçš„é‡æ–°å°å‘ URIã€éƒ¨åˆ†ï¼Œé»æ“Šã€Œ+ æ–°å¢ URIã€ï¼Œç„¶å¾Œè¼¸å…¥ `http://localhost:8080/oauth2callback`ã€‚
    *   é»æ“Šã€Œå»ºç«‹ã€ã€‚

6.  **ä¸‹è¼‰æ†‘è­‰æª”æ¡ˆ**:
    *   å»ºç«‹æˆåŠŸå¾Œï¼Œæ‚¨æœƒåœ¨æ†‘è­‰åˆ—è¡¨ä¸­çœ‹åˆ°å‰›å‰›å»ºç«‹çš„ç”¨æˆ¶ç«¯ã€‚
    *   é»æ“Šæœ€å³å´çš„ã€Œä¸‹è¼‰ JSONã€åœ–ç¤ºã€‚
    *   å°‡ä¸‹è¼‰çš„æª”æ¡ˆ**é‡æ–°å‘½åç‚º `client_secrets.json`**ï¼Œä¸¦å°‡å®ƒæ”¾ç½®åœ¨æ‚¨åŸ·è¡Œ `threads-dlp` çš„ç›®éŒ„ä¸‹ã€‚

### æ­¥é©Ÿ 2ï¼šç”Ÿæˆ `request.token`

æ­¤æª”æ¡ˆæ˜¯æ‚¨å€‹äººå¸³è™Ÿæˆæ¬Šçµ¦æ­¤æ‡‰ç”¨ç¨‹å¼çš„ã€Œé€šè¡Œè­‰ã€ã€‚

1.  **åŸ·è¡Œä¸€æ¬¡ä¸Šå‚³æŒ‡ä»¤**:
    *   ç¢ºä¿ `client_secrets.json` å·²ç¶“æ”¾åœ¨ç•¶å‰ç›®éŒ„ã€‚
    *   åœ¨å‘½ä»¤åˆ—ä¸­åŸ·è¡Œä¸€æ¬¡éœ€è¦ä¸Šå‚³çš„æŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼š
        ```bash
        threads-dlp -t zuck --upload
        ```
2.  **å®Œæˆç€è¦½å™¨æˆæ¬Š**:
    *   ç¨‹å¼æœƒè‡ªå‹•åœ¨æ‚¨çš„ç€è¦½å™¨ä¸­æ‰“é–‹ä¸€å€‹ Google æˆæ¬Šé é¢ï¼Œä¸¦åœ¨å‘½ä»¤åˆ—ä¸­é¡¯ç¤ºä¸€å€‹ `localhost` é–‹é ­çš„ç¶²å€ã€‚
    *   **è¤‡è£½è©²ç¶²å€**ï¼Œä¸¦åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ã€‚
    *   ç™»å…¥æ‚¨åœ¨ã€Œæ¸¬è©¦ä½¿ç”¨è€…ã€æ­¥é©Ÿä¸­è¨­å®šçš„é‚£å€‹ Google å¸³è™Ÿã€‚
    *   åŒæ„æˆæ¬Šè«‹æ±‚ã€‚
    *   æˆæ¬ŠæˆåŠŸå¾Œï¼Œé é¢æœƒé‡æ–°å°å‘åˆ°ä¸€å€‹ç„¡æ³•é¡¯ç¤ºçš„ `localhost` é é¢ï¼Œé€™æ˜¯æ­£å¸¸çš„ã€‚**è«‹å°‡é€™å€‹é‡æ–°å°å‘å¾Œçš„ç¶²å€å®Œæ•´è¤‡è£½ä¸‹ä¾†**ã€‚
3.  **è²¼ä¸Šæˆæ¬Šç¢¼**:
    *   å›åˆ°æ‚¨çš„å‘½ä»¤åˆ—ï¼Œç¨‹å¼æœƒæç¤ºæ‚¨è²¼ä¸Šå‰›å‰›è¤‡è£½çš„ç¶²å€ã€‚
    *   è²¼ä¸Šç¶²å€ä¸¦æŒ‰ä¸‹ Enterã€‚
4.  **ç”Ÿæˆ Token**:
    *   é©—è­‰æˆåŠŸå¾Œï¼Œç¨‹å¼æœƒè‡ªå‹•åœ¨ç•¶å‰ç›®éŒ„ä¸‹ç”Ÿæˆä¸€å€‹åç‚º `request.token` çš„æª”æ¡ˆã€‚

å®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œï¼Œæ‚¨çš„å°ˆæ¡ˆå°±æ“æœ‰äº†å®Œæ•´çš„è‡ªå‹•ä¸Šå‚³æ¬Šé™ã€‚`client_secrets.json` å’Œ `request.token` éƒ½æ‡‰è¢«è¦–ç‚ºæ©Ÿå¯†æª”æ¡ˆï¼Œåˆ‡å‹¿å°‡å®ƒå€‘åˆ†äº«æˆ–æäº¤åˆ° Git å€‰åº«ä¸­ã€‚

---

## â˜ï¸ Zeabur é›²ç«¯éƒ¨ç½²æŒ‡å—

æœ¬å°ˆæ¡ˆå·²å®Œå…¨é‡å° Zeabur é€²è¡Œå„ªåŒ–ï¼Œå¯å¯¦ç¾ä¸€éµéƒ¨ç½²èˆ‡è‡ªå‹•åŒ–é‹è¡Œã€‚

### æ­¥é©Ÿ 1ï¼šFork å°ˆæ¡ˆ

é»æ“Šæœ¬ GitHub å€‰åº«å³ä¸Šè§’çš„ **Fork** æŒ‰éˆ•ï¼Œå°‡æ­¤å°ˆæ¡ˆè¤‡è£½åˆ°ä½ è‡ªå·±çš„ GitHub å¸³è™Ÿä¸‹ã€‚

### æ­¥é©Ÿ 2ï¼šåœ¨ Zeabur ä¸Šå»ºç«‹å°ˆæ¡ˆ

1.  ç™»å…¥ [Zeabur](https://zeabur.com/) æ§åˆ¶å°ã€‚
2.  å»ºç«‹ä¸€å€‹æ–°å°ˆæ¡ˆï¼Œä¸¦æˆæ¬Š Zeabur è®€å–ä½ çš„ GitHub å€‰åº«ã€‚
3.  é¸æ“‡ä½ å‰›å‰› Fork çš„ `threads-dlp` å€‰åº«é€²è¡Œéƒ¨ç½²ã€‚

### æ­¥é©Ÿ 3ï¼šè¨­å®šæœå‹™èˆ‡å•Ÿå‹•æŒ‡ä»¤

Zeabur æœƒè‡ªå‹•åµæ¸¬åˆ° `Dockerfile`ï¼Œä¸¦æ ¹æ“š `Procfile` ä¾†å•Ÿå‹•ä¸åŒçš„é€²ç¨‹ï¼š

- **`web`**: é‹è¡Œ `Datasette` æœå‹™ï¼Œæä¾›å…¬é–‹çš„ç¶²é å„€è¡¨æ¿ã€‚
- **`worker`**: é‹è¡Œä¸»è¦çš„çˆ¬èŸ²æ’ç¨‹å™¨ (`scheduler.py`)ï¼Œåœ¨èƒŒæ™¯å®šæ™‚åŸ·è¡Œä»»å‹™ã€‚

### æ­¥é©Ÿ 4ï¼šè¨­å®šæ°¸ä¹…æ€§ç£ç¢Ÿ (éå¸¸é‡è¦)

ç‚ºäº†ç¢ºä¿ä½ çš„è³‡æ–™åº«å’Œå½±ç‰‡ä¸æœƒå› ç‚ºæœå‹™é‡å•Ÿè€Œéºå¤±ï¼Œä¹Ÿç‚ºäº†é¿å…å› ä½¿ç”¨æš«å­˜æª”æ¡ˆç³»çµ±è€Œè¢«æ”¶å–ä¸å¿…è¦çš„è¨˜æ†¶é«”è²»ç”¨ï¼Œä½ å¿…é ˆç‚ºå„²å­˜è·¯å¾‘æ›è¼‰ä¸€å€‹æ°¸ä¹…æ€§ç£ç¢Ÿã€‚

1.  åœ¨ Zeabur å°ˆæ¡ˆé é¢ï¼Œé»æ“Š **Volumes** åˆ†é ã€‚
2.  é»æ“Š **Create Volume**ã€‚
3.  å»ºç«‹å…©å€‹ç£ç¢Ÿå€ï¼Œä¸¦å°‡å®ƒå€‘åˆ†åˆ¥æ›è¼‰åˆ°ä»¥ä¸‹è·¯å¾‘ï¼š
    *   **Mount Path 1:** `/home/appuser/db` (ç”¨æ–¼å„²å­˜è³‡æ–™åº«æª”æ¡ˆ)
    *   **Mount Path 2:** `/home/appuser/downloads` (ç”¨æ–¼å„²å­˜ä¸‹è¼‰çš„å½±ç‰‡)

> **è­¦å‘Š:** å¦‚æœä½ è·³éé€™ä¸€æ­¥ï¼Œæ‰€æœ‰ä¸‹è¼‰çš„å½±ç‰‡å’Œè³‡æ–™åº«ç´€éŒ„éƒ½æœƒåœ¨æ¯æ¬¡æœå‹™é‡å•Ÿæˆ–é‡æ–°éƒ¨ç½²å¾Œ**å…¨éƒ¨éºå¤±**ã€‚

### æ­¥é©Ÿ 5ï¼šè¨­å®šç’°å¢ƒè®Šæ•¸

åœ¨ Zeabur å°ˆæ¡ˆçš„ **Variables** åˆ†é ä¸­ï¼Œæ–°å¢ä»¥ä¸‹æ‰€æœ‰ç’°å¢ƒè®Šæ•¸ï¼š

| è®Šæ•¸åç¨±                  | èªªæ˜                                                                                                             |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| `THREADS_SESSION_COOKIE`  | **(å¿…å¡«)** ç”¨æ–¼ç™»å…¥ Threads çš„ `sessionid` Cookieã€‚                                                                   |
| `GEMINI_API_KEY`          | **(å¿…å¡«)** Google Gemini API é‡‘é‘°ã€‚                                                                                  |

| `YT_CLIENT_SECRETS`       | **(å¿…å¡«)** `client_secrets.json` çš„**å–®è¡Œ**å…§å®¹ã€‚                                                                |
| `YT_REQUEST`              | **(å¿…å¡«)** `request.token` çš„**å–®è¡Œ**å…§å®¹ã€‚                                                                    |
| `ADMIN_PASSWORD_HASH`     | **(å¯é¸)** Datasette å„€è¡¨æ¿çš„å¯†ç¢¼é›œæ¹Šå€¼ã€‚é¢„è®¾å€¼ä¸º `password!`ã€‚|
| `UPLOAD_THRESHOLD`        | (å¯é¸) è§¸ç™¼ä¸Šå‚³çš„å¾…è™•ç†å½±ç‰‡æ•¸é‡ã€‚é è¨­ç‚º `5`ã€‚                                        |
| `UPLOAD_TIME_UTC`         | (å¯é¸) æ¯æ—¥å›ºå®šåŸ·è¡Œä¸Šå‚³çš„æ™‚é–“ï¼ˆUTCï¼‰ã€‚ä¾‹å¦‚ `10:00`ã€‚                                                   |
| `THREADS_SCROLL_COUNT`    | (å¯é¸) æ¯æ¬¡çˆ¬å–æ™‚çš„æ»¾å‹•æ¬¡æ•¸ã€‚é è¨­ç‚º `5`ã€‚                                          |
| `PUBLISH_NOW`             | (å¯é¸) æ˜¯å¦ç«‹å³ç™¼å¸ƒç¬¬ä¸€éƒ¨å½±ç‰‡ã€‚`true` æˆ– `false`ï¼Œé è¨­ç‚º `true`ã€‚                                 |
| `PUBLISH_START_FROM_HOURS`| (å¯é¸) é¦–éƒ¨å½±ç‰‡çš„é ç´„ç™¼å¸ƒå»¶é²ï¼ˆå°æ™‚ï¼‰ã€‚é è¨­ç‚º `0`ã€‚                                        |
| `PUBLISH_INTERVAL_HOURS`  | (å¯é¸) å½±ç‰‡ä¹‹é–“çš„ç™¼å¸ƒæ™‚é–“é–“éš”ï¼ˆå°æ™‚ï¼‰ã€‚é è¨­ç‚º `4`ã€‚                                                    |

### æ­¥é©Ÿ 6ï¼šå®Œæˆéƒ¨ç½²

å„²å­˜æ‰€æœ‰ç’°å¢ƒè®Šæ•¸å¾Œï¼ŒZeabur æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²ä½ çš„æœå‹™ã€‚éƒ¨ç½²æˆåŠŸå¾Œï¼Œä½ å°±å¯ä»¥é€é Zeabur æä¾›çš„ç¶²å€è¨ªå•å„€è¡¨æ¿ï¼Œ`worker` æœå‹™ä¹Ÿæœƒåœ¨èƒŒæ™¯è‡ªå‹•é‹è¡Œã€‚

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### YouTube Uploader

æœ¬å°ˆæ¡ˆçš„è‡ªå‹•ä¸Šå‚³åŠŸèƒ½ï¼Œæ˜¯é€éå‘¼å«ç”± [porjo](https://github.com/porjo) é–‹ç™¼çš„å¼·å¤§é–‹æºå·¥å…· [youtubeuploader](https://github.com/porjo/youtubeuploader) ä¾†å¯¦ç¾çš„ã€‚ç‚ºäº†å…¼é¡§æœ¬åœ°é–‹ç™¼èˆ‡é›²ç«¯éƒ¨ç½²ï¼Œå°ˆæ¡ˆå…§å»ºäº†è·¨å¹³å°ç­–ç•¥ï¼š
- **Windows (æœ¬åœ°é–‹ç™¼):** å°ˆæ¡ˆä¸­ç›´æ¥åŒ…å«äº† `youtubeuploader.exe`ã€‚
- **Linux (é›²ç«¯éƒ¨ç½²):** `Dockerfile` æœƒåœ¨å»ºç½®æ˜ åƒæ™‚ï¼Œè‡ªå‹•ä¸‹è¼‰å…¶æœ€æ–°çš„ Linux ç‰ˆæœ¬ã€‚

### å¾åŸå§‹ç¢¼å®‰è£ (é–‹ç™¼è€…)

å¦‚æœä½ æƒ³å°æœ¬å°ˆæ¡ˆé€²è¡ŒäºŒæ¬¡é–‹ç™¼ï¼Œè«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿï¼š

1.  **å…‹éš†å°ˆæ¡ˆ**
    ```bash
    git clone https://github.com/LayorX/threads-dlp.git
    cd threads-dlp
    ```

2.  **å®‰è£ `uv`**
    ```bash
    # Windows (PowerShell)
    irm https://astral.sh/uv/install.ps1 | iex
    # macOS / Linux
    curl -LsSf https://astral.sh/uv/install.sh | sh
    ```

3.  **å»ºç«‹è™›æ“¬ç’°å¢ƒä¸¦åŒæ­¥ä¾è³´**
    ```bash
    uv sync
    ```
4.  **åŸ·è¡Œç¨‹å¼**
    ```bash
    uv run python main.py --help
    ```

## âš ï¸ å…è²¬è²æ˜

æœ¬å·¥å…·åƒ…ä¾›æŠ€è¡“ç ”ç©¶èˆ‡å­¸ç¿’ä¹‹ç”¨ã€‚ä¸‹è¼‰çš„å½±ç‰‡ç‰ˆæ¬Šæ­¸åŸä½œè€…æ‰€æœ‰ã€‚è«‹å°Šé‡ç‰ˆæ¬Šï¼Œä¸¦éµå®ˆ Threads çš„æœå‹™æ¢æ¬¾ã€‚ä»»ä½•å› ä½¿ç”¨æœ¬å·¥å…·è€Œå°è‡´çš„ç‰ˆæ¬Šç³¾ç´›æˆ–æ³•å¾‹å•é¡Œï¼Œé–‹ç™¼è€…æ¦‚ä¸è² è²¬ã€‚
